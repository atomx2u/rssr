# issue
- model to domain 的开销还是挺大的，能减小这种开销吗？有没有办法直接获得 domain entity ?
    - 或许可以实现直接获得 domain 的方式，但是性能提升应该不大，而且编码更繁琐。
    - 大部分情况下，开发效率有限。
    - # 当然应该想一下怎么实现高性能的方式。
- 异常在于实现，但是领域层不知道实现，所以不知道异常的类型。那么在哪声明异常，在哪处理异常呢？
    - 异常分为两种。领域层异常和实现异常，领域（业务）的异常是交互层问题，是可以预测的异常所以在领域层申明。
    - 实现异常归结为实现期间没有考虑好的实现细节或者业务没有考虑好的交互可能带来的问题。
    - 实现异常的处理办法是记录下异常。根据实际情况分为领域处理部分（交互缺陷）或者补完代码缺陷（BUG）。
    - 实现异常应该在实现处记录，保持接口返回类型不变。比如是 boolean(single<Boolean>) 就不要改成 void(Completable)。
    - 因为下一层的调用一般根据需求会发生变化，可能需要交互处理异常，也可能需要忽略异常。
- 应该假设接口实现或者交互有问题吗？
    - 就算目前真的没问题，随着应用增长问题总会出现。
    - 应该假设会有问题。
- 失败的交互如何做呢？
    - 有失败的提醒
    - 同时应该有必要的解释或其他可行的建议
    
- Repo 和 Usecase 对于异常的处理
    - Repo 可能返回 exception（异常）和 fail（失败）
    - 这由相应的实现决定。
    - Usecase 先不管 Repo 的异常，一定会返回 Repo 的失败；还有 Component 的失败或者异常。
    
    - Repo 异常有可能是 1.实现错误 2.代码使用错误 3.异常环境（网络中断） 
    - Repo 应该可以告知 Usecase 成功与否(通过返回)，但是原则上 Repo 应该是可靠的，所以 Usecase 没必要细致处理这部分异常。
    
- $ domain 应该不知道网络的存在

- # 对于 Repo 的异常，怎么处理？
- $ 方案一: 全部返回 false，然后记录异常。
- # 那么失败怎么记录？
- $ 记录下调用栈和相关调用数据。
- # 如果要对错误分类型，给予不同提示 ？
- $ 办不到

- $ 方案二: 在数据层实现 Repo 接口的时候，写相关测试代码，同时在接口上声明可能出现的异常。
- $ 1.实现错误 2.代码使用错误。应该没办法给出用户引导，这是比较致命的错误，在发布之前要解决。
- $ 这些错误，只能记录下来，就算生产上出现，也没理由让用户知道发生了什么。
- $ 3.异常环境（网络中断）。很难的一点是，在 app 调用的是 usecase，但是异常发生在 repoImpl。这样 usecase 没法作出异常声明。
- # 要怎么在 usecase 声明出这些异常呢？
- $ 试试在 usecase 和 repo 的接口上作出改进？ 让他们能同时声明出异常？